<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>check weather</title>
</head>
<body>
    <html lang="en">
        <head>
           
           <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        
        <!-- jQuery library -->
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
        
        <!-- Popper JS -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        
        <!-- Latest compiled JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
            <title>weather App</title>
            <link rel="stylesheet" href="css/style.css" >
            <link rel="shortcut icon" href="images/logo.png" type="image/png" >
        
        </head>
        <body>
           
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-10 col-12 mx-auto">
                        <div class="main_content">
                            <form class="temp_form">
                                <input type="text" id="cityName" placeholder="Enter your city name" autocomplete="off">
                                <input type="submit" value="search" id="submitBtn">
                                </form>
                            </div>
                            <div class="tempInfo">
                                <div class="top-layer">
                                   <button type="button" style="height: 25px;width: 60px;border: none;"> show date </button>
                                   <h4 style="text-align:center">  </h4>
                                    </div>
                                    <div class="main-layer">
                                        <p id="city_name"> output here</p>
                                        <div class="middle_layer data_hide">
                                            <p id="temp"><span>0</span><sup>o</sup>C</p>
                                            <p id="temp_status"><i class="fa-solid fa-cloud"></i></p>
                                            </div>
                                        </div>
                                </div>
                       
                        </div>
                    </div>
            </div>
        
            
             <script>
                const cityName=document.getElementById('cityName');
                const city_name=document.getElementById('city_name');
                const submitBtn=document.getElementById('submitBtn');
                const temp_status=document.getElementById('temp_status');
                const temp=document.getElementById('temp');
                let btnShow = document.querySelector('button');
               let  output = document.querySelector('h4')
              
                btnShow.addEventListener('click',() =>{
                   let today = new Date();
                   let month = today.getMonth()+1;
                   let year = today.getFullYear();
                   let date = today.getDate();
                   let current_date = `${month}/${date}/${year}`;
                   output.innerText =  current_date;

                }) 
                
               const getInfo=async(event)=>{
                 event.preventDefault();
                let cityVal=cityName.value
              
                if(cityVal === ""){
                    city_name.innerText=`please write the name before search`  
                   }
               else{
                      try{
                        let url=`https://api.openweathermap.org/data/2.5/weather?q=${cityVal}&units=metric&appid=9c7e9fce9f9d758634afe32b6cf715a3`
                 const response=await fetch(url)
                 const data=await response.json();
                 const arrData=[data];
                 city_name.innerText=`${arrData[0].name},${arrData[0].sys.country}`;
                 temp.innerText=arrData[0].main.temp;
                //  temp_status.innerText=arrData[0].weather[0].main;
                 const tempMood=arrData[0].weather[0].main;
                 if(tempMood == "Clear"){
                    temp_status.innerHTML="<i class='fa-solid fa-cloud-sun' style='height:20px;width:30px;color:yellow'></i>";
                 }else if(tempMood == "Clouds"){
                    temp_status.innerHTML="<i class='fa-solid fa-cloud' style='height:20px;width:30px;color:yellow'></i>";
                 }else if (tempMood == "Rain"){
                    temp_status.innerHTML="<i class='fa-solid fa-cloud-rain' style='height:20px;width:30px;color:yellow'></i>";
                 }else{
                    temp_status.innerHTML="<i class='fa-solid fa-cloud' style='height:20px;width:30px;color:yellow'></i>";
                 }
                //  console.log(data)
                      }catch{
                        city_name.innerText=`please enter the city name properly`   
                      }
                   }
    console.log("hiii")
}
   submitBtn.addEventListener('click',getInfo)
             </script>
        
            
        </body>
        </html>
</body>
</html>